/*! Sortable 1.4.2 - MIT | git://github.com/rubaxa/Sortable.git */
!function(a){"use strict";"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():"undefined"!=typeof Package?Sortable=a():window.Sortable=a()}(function(){"use strict";function a(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=s({},b),a[O]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0};for(var d in c)!(d in b)&&(b[d]=c[d]);_(b);for(var f in this)"_"===f.charAt(0)&&(this[f]=this[f].bind(this));this.nativeDraggable=b.forceFallback?!1:U,e(a,"mousedown",this._onTapStart),e(a,"touchstart",this._onTapStart),this.nativeDraggable&&(e(a,"dragover",this),e(a,"dragenter",this)),Z.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function b(a){x&&x.state!==a&&(h(x,"display",a?"none":""),!a&&x.state&&y.insertBefore(x,u),x.state=a)}function c(a,b,c){if(a){c=c||Q;do if(">*"===b&&a.parentNode===c||q(a,b))return a;while(a!==c&&(a=a.parentNode))}return null}function d(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}function g(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(N," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(N," ")}}function h(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return Q.defaultView&&Q.defaultView.getComputedStyle?c=Q.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function i(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;f>e;e++)c(d[e],e);return d}return[]}function j(a,b,c,d,e,f,g){a=a||b[O];var h=Q.createEvent("Event"),i=a.options,j="on"+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,!0,!0),h.to=b,h.from=e||b,h.item=d||b,h.clone=x,h.oldIndex=f,h.newIndex=g,b.dispatchEvent(h),i[j]&&i[j].call(a,h)}function k(a,b,c,d,e,f){var g,h,i=a[O],j=i.options.onMove;return g=Q.createEvent("Event"),g.initEvent("move",!0,!0),g.to=b,g.from=a,g.dragged=c,g.draggedRect=d,g.related=e||b,g.relatedRect=f||b.getBoundingClientRect(),a.dispatchEvent(g),j&&(h=j.call(i,g)),h}function l(a){a.draggable=!1}function m(){W=!1}function n(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return(X(b.clientY-(d.top+d.height))>5||X(b.clientX-(d.right+d.width))>5)&&c}function o(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function p(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"===a.nodeName.toUpperCase()||">*"!==b&&!q(a,b)||c++;return c}function q(a,b){if(a){b=b.split(".");var c=b.shift().toUpperCase(),d=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");return!(""!==c&&a.nodeName.toUpperCase()!=c||b.length&&((" "+a.className+" ").match(d)||[]).length!=b.length)}return!1}function r(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function s(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function t(a){return S?S(a).clone(!0)[0]:T&&T.dom?T.dom(a).cloneNode(!0):a.cloneNode(!0)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M={},N=/\s+/g,O="Sortable"+(new Date).getTime(),P=window,Q=P.document,R=P.parseInt,S=P.jQuery||P.Zepto,T=P.Polymer,U=!!("draggable"in Q.createElement("div")),V=function(a){return a=Q.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents}(),W=!1,X=Math.abs,Y=Math.min,Z=([].slice,[]),$=r(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h=b.scrollSensitivity,i=b.scrollSpeed,j=a.clientX,k=a.clientY,l=window.innerWidth,m=window.innerHeight;if(B!==c&&(A=b.scroll,B=c,A===!0)){A=c;do if(A.offsetWidth<A.scrollWidth||A.offsetHeight<A.scrollHeight)break;while(A=A.parentNode)}A&&(d=A,e=A.getBoundingClientRect(),f=(X(e.right-j)<=h)-(X(e.left-j)<=h),g=(X(e.bottom-k)<=h)-(X(e.top-k)<=h)),f||g||(f=(h>=l-j)-(h>=j),g=(h>=m-k)-(h>=k),(f||g)&&(d=P)),(M.vx!==f||M.vy!==g||M.el!==d)&&(M.el=d,M.vx=f,M.vy=g,clearInterval(M.pid),d&&(M.pid=setInterval(function(){d===P?P.scrollTo(P.pageXOffset+f*i,P.pageYOffset+g*i):(g&&(d.scrollTop+=g*i),f&&(d.scrollLeft+=f*i))},24)))}},30),_=function(a){function b(a,b){return void 0===a&&(a=c.name),"function"==typeof a?a:function(c,d){var e=d.options.group.name;return b?a:a&&(a.join?a.indexOf(e)>-1:e==a)}}var c={},d=a.group;d&&"object"==typeof d||(d={name:d}),c.name=d.name,c.checkPull=b(d.pull,!0),c.checkPut=b(d.put),a.group=c};return a.prototype={constructor:a,_onTapStart:function(a){var b,d=this,e=this.el,f=this.options,g=a.type,h=a.touches&&a.touches[0],i=(h||a).target,k=i,l=f.filter;if(!u&&!("mousedown"===g&&0!==a.button||f.disabled)&&(i=c(i,f.draggable,e),i&&(!f.handle||c(k,f.handle,e)))){if(b=p(i,f.draggable),"function"==typeof l){if(l.call(this,a,i,this))return j(d,k,"filter",i,e,b),void a.preventDefault()}else if(l&&(l=l.split(",").some(function(a){return a=c(k,a.trim(),e),a?(j(d,a,"filter",i,e,b),!0):void 0})))return void a.preventDefault();this._prepareDragStart(a,h,i,b)}},_prepareDragStart:function(a,b,c,d){var f,h=this,k=h.el,m=h.options,n=k.ownerDocument;c&&!u&&c.parentNode===k&&(J=a,y=k,u=c,v=u.parentNode,z=u.nextSibling,H=m.group,F=d,this._lastX=(b||a).clientX,this._lastY=(b||a).clientY,f=function(){h._disableDelayedDrag(),u.draggable=h.nativeDraggable,g(u,h.options.chosenClass,!0),h._triggerDragStart(b),j(h,y,"choose",u,y,F)},m.ignore.split(",").forEach(function(a){i(u,a.trim(),l)}),e(n,"mouseup",h._onDrop),e(n,"touchend",h._onDrop),e(n,"touchcancel",h._onDrop),m.delay?(e(n,"mouseup",h._disableDelayedDrag),e(n,"touchend",h._disableDelayedDrag),e(n,"touchcancel",h._disableDelayedDrag),e(n,"mousemove",h._disableDelayedDrag),e(n,"touchmove",h._disableDelayedDrag),h._dragStartTimer=setTimeout(f,m.delay)):f())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),f(a,"mouseup",this._disableDelayedDrag),f(a,"touchend",this._disableDelayedDrag),f(a,"touchcancel",this._disableDelayedDrag),f(a,"mousemove",this._disableDelayedDrag),f(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(a){a?(J={target:u,clientX:a.clientX,clientY:a.clientY},this._onDragStart(J,"touch")):this.nativeDraggable?(e(u,"dragend",this),e(y,"dragstart",this._onDragStart)):this._onDragStart(J,!0);try{Q.selection?Q.selection.empty():window.getSelection().removeAllRanges()}catch(b){}},_dragStarted:function(){y&&u&&(g(u,this.options.ghostClass,!0),a.active=this,j(this,y,"start",u,y,F))},_emulateDragOver:function(){if(K){if(this._lastX===K.clientX&&this._lastY===K.clientY)return;this._lastX=K.clientX,this._lastY=K.clientY,V||h(w,"display","none");var a=Q.elementFromPoint(K.clientX,K.clientY),b=a,c=(" "+this.options.group.name,Z.length);if(b)do{if(b[O]){for(;c--;)Z[c]({clientX:K.clientX,clientY:K.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);V||h(w,"display","")}},_onTouchMove:function(b){if(J){var c=this.options,d=c.fallbackTolerance,e=b.touches?b.touches[0]:b,f=e.clientX-J.clientX,g=e.clientY-J.clientY,i=b.touches?"translate3d("+f+"px,"+g+"px,0)":"translate("+f+"px,"+g+"px)";if(!a.active){if(d&&Y(X(e.clientX-this._lastX),X(e.clientY-this._lastY))<d)return;this._dragStarted()}this._appendGhost(),L=!0,K=e,h(w,"webkitTransform",i),h(w,"mozTransform",i),h(w,"msTransform",i),h(w,"transform",i),b.preventDefault()}},_appendGhost:function(){if(!w){var a,b=u.getBoundingClientRect(),c=h(u),d=this.options;w=u.cloneNode(!0),g(w,d.ghostClass,!1),g(w,d.fallbackClass,!0),h(w,"top",b.top-R(c.marginTop,10)),h(w,"left",b.left-R(c.marginLeft,10)),h(w,"width",b.width),h(w,"height",b.height),h(w,"opacity","0.8"),h(w,"position","fixed"),h(w,"zIndex","100000"),h(w,"pointerEvents","none"),d.fallbackOnBody&&Q.body.appendChild(w)||y.appendChild(w),a=w.getBoundingClientRect(),h(w,"width",2*b.width-a.width),h(w,"height",2*b.height-a.height)}},_onDragStart:function(a,b){var c=a.dataTransfer,d=this.options;this._offUpEvents(),"clone"==H.checkPull(this,this,u,a)&&(x=t(u),h(x,"display","none"),y.insertBefore(x,u),j(this,y,"clone",u)),b?("touch"===b?(e(Q,"touchmove",this._onTouchMove),e(Q,"touchend",this._onDrop),e(Q,"touchcancel",this._onDrop)):(e(Q,"mousemove",this._onTouchMove),e(Q,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(c&&(c.effectAllowed="move",d.setData&&d.setData.call(this,c,u)),e(Q,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(d){var e,f,g,i=this.el,j=this.options,l=j.group,o=a.active,p=H===l,q=j.sort;if(void 0!==d.preventDefault&&(d.preventDefault(),!j.dragoverBubble&&d.stopPropagation()),L=!0,H&&!j.disabled&&(p?q||(g=!y.contains(u)):I===this||H.checkPull(this,o,u,d)&&l.checkPut(this,o,u,d))&&(void 0===d.rootEl||d.rootEl===this.el)){if($(d,j,this.el),W)return;if(e=c(d.target,j.draggable,i),f=u.getBoundingClientRect(),I=this,g)return b(!0),v=y,void(x||z?y.insertBefore(u,x||z):q||y.appendChild(u));if(0===i.children.length||i.children[0]===w||i===d.target&&(e=n(i,d))){if(e){if(e.animated)return;s=e.getBoundingClientRect()}b(p),k(y,i,u,f,e,s)!==!1&&(u.contains(i)||(i.appendChild(u),v=i),this._animate(f,u),e&&this._animate(s,e))}else if(e&&!e.animated&&e!==u&&void 0!==e.parentNode[O]){C!==e&&(C=e,D=h(e),E=h(e.parentNode));var r,s=e.getBoundingClientRect(),t=s.right-s.left,A=s.bottom-s.top,B=/left|right|inline/.test(D.cssFloat+D.display)||"flex"==E.display&&0===E["flex-direction"].indexOf("row"),F=e.offsetWidth>u.offsetWidth,G=e.offsetHeight>u.offsetHeight,J=(B?(d.clientX-s.left)/t:(d.clientY-s.top)/A)>.5,K=e.nextElementSibling,M=k(y,i,u,f,e,s);if(M!==!1){if(W=!0,setTimeout(m,30),b(p),1===M||-1===M)r=1===M;else if(B){var N=u.offsetTop,P=e.offsetTop;r=N===P?e.previousElementSibling===u&&!F||J&&F:e.previousElementSibling===u||u.previousElementSibling===e?(d.clientY-s.top)/A>.5:P>N}else r=K!==u&&!G||J&&G;u.contains(i)||(r&&!K?i.appendChild(u):e.parentNode.insertBefore(u,r?K:e)),v=u.parentNode,this._animate(f,u),this._animate(s,e)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();h(b,"transition","none"),h(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,h(b,"transition","all "+c+"ms"),h(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){h(b,"transition",""),h(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;f(Q,"touchmove",this._onTouchMove),f(a,"mouseup",this._onDrop),f(a,"touchend",this._onDrop),f(a,"touchcancel",this._onDrop)},_onDrop:function(b){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(M.pid),clearTimeout(this._dragStartTimer),f(Q,"mousemove",this._onTouchMove),this.nativeDraggable&&(f(Q,"drop",this),f(c,"dragstart",this._onDragStart)),this._offUpEvents(),b&&(L&&(b.preventDefault(),!d.dropBubble&&b.stopPropagation()),w&&w.parentNode.removeChild(w),u&&(this.nativeDraggable&&f(u,"dragend",this),l(u),g(u,this.options.ghostClass,!1),g(u,this.options.chosenClass,!1),y!==v?(G=p(u,d.draggable),G>=0&&(j(null,v,"sort",u,y,F,G),j(this,y,"sort",u,y,F,G),j(null,v,"add",u,y,F,G),j(this,y,"remove",u,y,F,G))):(x&&x.parentNode.removeChild(x),u.nextSibling!==z&&(G=p(u,d.draggable),G>=0&&(j(this,y,"update",u,y,F,G),j(this,y,"sort",u,y,F,G)))),a.active&&((null===G||-1===G)&&(G=F),j(this,y,"end",u,y,F,G),this.save()))),this._nulling()},_nulling:function(){y=u=v=w=z=x=A=B=J=K=L=G=C=D=I=H=a.active=null},handleEvent:function(a){var b=a.type;"dragover"===b||"dragenter"===b?u&&(this._onDragOver(a),d(a)):("drop"===b||"dragend"===b)&&this._onDrop(a)},toArray:function(){for(var a,b=[],d=this.el.children,e=0,f=d.length,g=this.options;f>e;e++)a=d[e],c(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||o(a));return b},sort:function(a){var b={},d=this.el;this.toArray().forEach(function(a,e){var f=d.children[e];c(f,this.options.draggable,d)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(d.removeChild(b[a]),d.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return c(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:(c[a]=b,void("group"===a&&_(c)))},destroy:function(){var a=this.el;a[O]=null,f(a,"mousedown",this._onTapStart),f(a,"touchstart",this._onTapStart),this.nativeDraggable&&(f(a,"dragover",this),f(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),Z.splice(Z.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},a.utils={on:e,off:f,css:h,find:i,is:function(a,b){return!!c(a,b,a)},extend:s,throttle:r,closest:c,toggleClass:g,clone:t,index:p},a.create=function(b,c){return new a(b,c)},a.version="1.4.2",a});